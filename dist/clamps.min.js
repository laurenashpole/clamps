"use strict";var windowDefined="undefined"!=typeof window;function init(a){if(cancelInit())return!1;if(a instanceof HTMLElement&&(a=[a]),!a.length)return!1;for(var b,c=0;c<a.length;c++)b=a[c],b instanceof HTMLElement&&clampLine(b)}function cancelInit(){if(!windowDefined||!window.getComputedStyle)return!0;var a=document.createElement("div");return!(""!==a.style["-webkit-line-clamp"])}function clampLine(a){var b=getMaxHeight(a),c=getTextNode(a);if(b===c.clientHeight)return!1;for(var d,e=c.childNodes.length;0<=e;e--)if(d=c.childNodes[e],d)for(;c.clientHeight>b&&d.textContent;)d.textContent=d.textContent.replace(/\W*\s*$/,"").replace(/.$/,"\u2026")}function getTextNode(a){for(var b=document.createElement("div");a.firstChild;)b.appendChild(a.firstChild);return a.appendChild(div),div}function getMaxHeight(a){var b=Math.ceil,c=window.getComputedStyle(a);return"none"===c["max-height"]?b(parseFloat(c.height)):b(parseFloat(c["max-height"]))}"undefined"!=typeof module&&module.exports?module.exports=init:windowDefined&&(window.Clamps=init);
